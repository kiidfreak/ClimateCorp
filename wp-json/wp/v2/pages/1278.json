{"id":1278,"date":"2023-03-31T16:51:00","date_gmt":"2023-03-31T16:51:00","guid":{"rendered":"https:\/\/verst.earth\/?page_id=1278"},"modified":"2023-12-02T19:34:45","modified_gmt":"2023-12-02T19:34:45","slug":"verst-carbon-bot","status":"publish","type":"page","link":"https:\/\/verst.earth\/verst-carbon-bot\/","title":{"rendered":"Meet Our AI Chatbot Verstie!"},"content":{"rendered":"\t\t<div data-elementor-type=\"wp-page\" data-elementor-id=\"1278\" class=\"elementor elementor-1278\">\n\t\t\t\t\t\t\t\t\t<section class=\"elementor-section elementor-top-section elementor-element elementor-element-9d329d7 elementor-section-boxed elementor-section-height-default elementor-section-height-default\" data-id=\"9d329d7\" data-element_type=\"section\">\n\t\t\t\t\t\t<div class=\"elementor-container elementor-column-gap-default\">\n\t\t\t\t\t<div class=\"elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-7fe963f\" data-id=\"7fe963f\" data-element_type=\"column\">\n\t\t\t<div class=\"elementor-widget-wrap elementor-element-populated\">\n\t\t\t\t\t\t\t\t<div class=\"elementor-element elementor-element-824d707 elementor-widget elementor-widget-html\" data-id=\"824d707\" data-element_type=\"widget\" data-widget_type=\"html.default\">\n\t\t\t\t<div class=\"elementor-widget-container\">\n\t\t\t<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n  <meta charset=\"UTF-8\">\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n  <title>Verstie Carbon Bot<\/title>\n  <style>\n    #myForm {\n      display: flex;\n      flex-direction: column;\n      align-items: left;\n    }\n\n    #myForm input {\n      margin-bottom: 1px;\n    }\n\n    #myForm button {\n      margin: 0 auto;\n    }\n\n    .output-title {\n      font-size: 1.5em;\n      font-weight: bold;\n      margin-bottom: 10px;\n    }\n\n    .loading-container {\n      text-align: center;\n    }\n\n    .loading {\n      color: #3498db;\n      display: inline-block;\n    }\n\n    .spinner {\n      border: 4px solid rgba(0, 0, 0, 0.1);\n      border-left: 4px solid #3498db;\n      border-radius: 50%;\n      width: 20px;\n      height: 20px;\n      animation: spin 1s linear infinite;\n      margin-bottom: -4px;\n    }\n\n    .citation-container {\n      margin-top: 20px;\n    }\n\n    .citation-title {\n      font-size: 1.5em;\n      font-weight: bold;\n      margin-bottom: 10px;\n    }\n\n    .citations {\n      list-style-type: none;\n      padding: 0;\n    }\n\n    .citations li {\n      margin-bottom: 5px;\n    }\n\n    #clearButton {\n      display: inline;\n      background: none;\n      border: none;\n      padding: 0;\n      margin: 0;\n      font-size: inherit;\n      font-family: inherit;\n      color: #3498db;\n      cursor: pointer;\n    }\n\n    #clearButton:hover {\n      text-decoration: underline;\n    }\n\n    \/* Add CSS for clickable links *\/\n    .citation-link {\n      color: #3498db;\n      text-decoration: underline;\n      cursor: pointer;\n    }\n\n    #citationPreview {\n      display: none;\n      width: 100%;\n      height: 300px;\n      border: 1px solid #ddd;\n    }\n  <\/style>\n<\/head>\n<body>\n\n<div class=\"output-title\">Hi, I'm Verstie, Ask me anything about carbon markets \ud83d\ude01<\/div>\n<div class=\"subtitle\">I am an AI model that has been trained with limited data on carbon markets. I'll have more knowledge and operate faster soon.<\/div>\n\n<form id=\"myForm\">\n  <label for=\"user_string\">Enter your question:<\/label><br>\n  <input type=\"text\" name=\"user_string\" id=\"user_string\">\n  <br><br>\n  <button type=\"submit\" id=\"submitButton\">Submit<\/button>\n<\/form>\n\n<div class=\"output-container\">\n  <div class=\"output-title\">Output:<\/div>\n  <div class=\"output-content\"><\/div>\n  <div class=\"loading-container\" id=\"loadingMessage\"><\/div>\n<\/div>\n\n<!-- Add a new section for displaying citations -->\n<div class=\"citation-container\">\n  <div class=\"citation-title\">Citations:<\/div>\n  <ul class=\"citations\" id=\"citationsList\"><\/ul>\n<\/div>\n\n<!-- Add an iframe for previewing citations -->\n<iframe id=\"citationPreview\"><\/iframe>\n\n<script src=\"https:\/\/code.jquery.com\/jquery-3.7.1.min.js\"><\/script>\n<script>\n  jQuery(document).ready(function($) {\n    \/\/ Handle form submission using AJAX\n    $('#myForm').on('submit', function(e) {\n      e.preventDefault();\n\n      function showLoading() {\n        $('#loadingMessage').html('<div class=\"loading\">Verstie is processing your response...<div class=\"spinner\"><\/div><\/div>');\n        $('#submitButton').attr('disabled', true);\n      }\n\n      function hideLoading() {\n        $('#loadingMessage').empty();\n        $('#submitButton').attr('disabled', false);\n      }\n\n      function clearOutput() {\n        $('.output-content').empty();\n        $('#citationsList').empty();\n        $('#citationPreview').hide().attr('src', 'about:blank'); \/\/ Hide and clear the iframe content\n      }\n\n      function appendToOutput(response) {\n        const outputContainer = $('.output-content');\n        outputContainer.empty(); \/\/ Clear existing content\n        outputContainer.html(response);\n      }\n\n      function appendCitations(citations) {\n        const citationsList = $('#citationsList');\n        citationsList.empty();\n\n        const citationPreview = $('#citationPreview');\n        citationPreview.hide().attr('src', 'about:blank'); \/\/ Hide and clear the iframe content\n\n        citations.forEach(citation => {\n          const listItem = $('<li>').html(`<span class=\"citation-link\" data-url=\"${citation.file_path}\">${citation.file_name} - Page ${citation.page_label}<\/span>`);\n          citationsList.append(listItem);\n        });\n\n        \/\/ Handle citation link click event\n        $('.citation-link').on('click', function () {\n          const url = $(this).data('url');\n          $('#citationPreview').show().attr('src', url); \/\/ Show the iframe and set the source\n        });\n      }\n\n      \/\/ Clear the previous output before making a new request\n      clearOutput();\n\n      \/\/ Send the form data using AJAX\n      $.ajax({\n        url: 'https:\/\/verst.earth\/wp-content\/themes\/affirm\/vcbot.php',\n        type: 'post',\n        data: $('#myForm').serialize(),\n        dataType: 'json', \/\/ Expect JSON response\n        beforeSend: function() {\n          showLoading();\n        },\n        success: function(response) {\n          console.log('Success:', response);\n\n          if (response.error) {\n            \/\/ Handle error response\n            console.error('Error:', response.error);\n          } else {\n            \/\/ Process the response\n            if (response.response !== undefined) {\n              appendToOutput(response.response);\n            }\n\n            if (response.citation && response.citation.length > 0) {\n              appendCitations(response.citation);\n            }\n          }\n\n          hideLoading();\n        },\n        error: function(jqXHR, textStatus, errorThrown) {\n          console.error('Error:', textStatus, errorThrown);\n        },\n        complete: function() {\n          console.log('Request complete');\n        }\n      });\n\n      \/\/ Return false to prevent default form submission\n      return false;\n    });\n\n    $('#clearButton').on('click', function() {\n      clearOutput();\n    });\n  });\n<\/script>\n\n<\/body>\n<\/html>\n\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t\t<\/div>\n\t\t<\/div>\n\t\t\t\t\t\t\t<\/div>\n\t\t<\/section>\n\t\t\t\t\t\t\t<\/div>\n\t\t","protected":false},"excerpt":{"rendered":"<p>Verstie Carbon Bot Hi, I&#8217;m Verstie, Ask me anything about carbon markets \ud83d\ude01 I am an AI model that has been trained [&hellip;]<\/p>\n","protected":false},"author":1,"featured_media":0,"parent":0,"menu_order":0,"comment_status":"closed","ping_status":"closed","template":"","meta":{"footnotes":""},"aioseo_notices":[],"_links":{"self":[{"href":"https:\/\/verst.earth\/wp-json\/wp\/v2\/pages\/1278"}],"collection":[{"href":"https:\/\/verst.earth\/wp-json\/wp\/v2\/pages"}],"about":[{"href":"https:\/\/verst.earth\/wp-json\/wp\/v2\/types\/page"}],"author":[{"embeddable":true,"href":"https:\/\/verst.earth\/wp-json\/wp\/v2\/users\/1"}],"replies":[{"embeddable":true,"href":"https:\/\/verst.earth\/wp-json\/wp\/v2\/comments?post=1278"}],"version-history":[{"count":193,"href":"https:\/\/verst.earth\/wp-json\/wp\/v2\/pages\/1278\/revisions"}],"predecessor-version":[{"id":1970,"href":"https:\/\/verst.earth\/wp-json\/wp\/v2\/pages\/1278\/revisions\/1970"}],"wp:attachment":[{"href":"https:\/\/verst.earth\/wp-json\/wp\/v2\/media?parent=1278"}],"curies":[{"name":"wp","href":"https:\/\/api.w.org\/{rel}","templated":true}]}}